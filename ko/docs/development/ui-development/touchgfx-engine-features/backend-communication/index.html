<!doctype html>
<html lang="ko" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="search" type="application/opensearchdescription+xml" title="TouchGFX Documentation" href="/4.17/ko/opensearch.xml">
<script src="/4.17/js/fix-location.js"></script><title data-react-helmet="true">백엔드 통신 | TouchGFX Documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://support.touchgfx.com/4.17/ko/docs/development/ui-development/touchgfx-engine-features/backend-communication"><meta data-react-helmet="true" name="docsearch:language" content="ko"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="백엔드 통신 | TouchGFX Documentation"><meta data-react-helmet="true" name="description" content="대부분의 애플리케이션에서 UI는 UI 외에 다른 시스템과 어떤 식으로든 연결되어 데이터를 주고받아야 합니다. 이는 하드웨어 주변 장치(센서 데이터, A/D 변환, 직렬 통신 등)와 연결될 수도 있고, 다른 소프트웨어 모듈과 연결될 수도 있습니다."><meta data-react-helmet="true" property="og:description" content="대부분의 애플리케이션에서 UI는 UI 외에 다른 시스템과 어떤 식으로든 연결되어 데이터를 주고받아야 합니다. 이는 하드웨어 주변 장치(센서 데이터, A/D 변환, 직렬 통신 등)와 연결될 수도 있고, 다른 소프트웨어 모듈과 연결될 수도 있습니다."><meta data-react-helmet="true" property="og:image" content="https://support.touchgfx.com/4.17/ko/img/meta-image.png"><meta data-react-helmet="true" name="twitter:image" content="https://support.touchgfx.com/4.17/ko/img/meta-image.png"><link data-react-helmet="true" rel="shortcut icon" href="/4.17/ko/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://support.touchgfx.com/4.17/ko/docs/development/ui-development/touchgfx-engine-features/backend-communication"><link data-react-helmet="true" rel="alternate" href="https://support.touchgfx.com/4.17/docs/development/ui-development/touchgfx-engine-features/backend-communication" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://support.touchgfx.com/4.17/ko/docs/development/ui-development/touchgfx-engine-features/backend-communication" hreflang="ko"><link data-react-helmet="true" rel="alternate" href="https://support.touchgfx.com/4.17/ja/docs/development/ui-development/touchgfx-engine-features/backend-communication" hreflang="ja"><link data-react-helmet="true" rel="alternate" href="https://support.touchgfx.com/4.17/zh-CN/docs/development/ui-development/touchgfx-engine-features/backend-communication" hreflang="zh-CN"><link data-react-helmet="true" rel="alternate" href="https://support.touchgfx.com/4.17/zh-TW/docs/development/ui-development/touchgfx-engine-features/backend-communication" hreflang="zh-TW"><link data-react-helmet="true" rel="alternate" href="https://support.touchgfx.com/4.17/docs/development/ui-development/touchgfx-engine-features/backend-communication" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/4.17/ko/assets/css/styles.1507df0a.css">
<link rel="preload" href="/4.17/ko/assets/js/runtime~main.963831fc.js" as="script">
<link rel="preload" href="/4.17/ko/assets/js/main.7981b945.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/4.17/ko/docs/introduction/welcome"><img src="/4.17/ko/img/logo.svg" alt="TouchGFX" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/4.17/ko/img/logo.svg" alt="TouchGFX" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__item navbar__link"><span><span>한국어</span></span></a><ul class="dropdown__menu"><li><a href="/4.17/docs/development/ui-development/touchgfx-engine-features/backend-communication" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">English</a></li><li><a href="/4.17/ko/docs/development/ui-development/touchgfx-engine-features/backend-communication" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">한국어</a></li><li><a href="/4.17/ja/docs/development/ui-development/touchgfx-engine-features/backend-communication" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">日本語</a></li><li><a href="/4.17/zh-CN/docs/development/ui-development/touchgfx-engine-features/backend-communication" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">简体中文</a></li><li><a href="/4.17/zh-TW/docs/development/ui-development/touchgfx-engine-features/backend-communication" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">繁體中文</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link" href="/4.17/ko/docs/introduction/welcome">4.17</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/4.17/ko/docs/development/ui-development/touchgfx-engine-features/backend-communication">4.17</a></li><li><a href="https://support.touchgfx.com/4.16" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>4.16<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://support.touchgfx.com/4.15" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>4.15<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://support.touchgfx.com/4.14" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>4.14<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://support.touchgfx.com/4.13" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>4.13<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><a href="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community</a><a href="https://touchgfx.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">TouchGFX.com</a><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Basic Concepts</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Development</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/4.17/ko/docs/development/development-introduction">Development Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Hardware Selection</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Board Bring Up</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">TouchGFX AL Development</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">UI Development</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/4.17/ko/docs/development/ui-development/ui-development-introduction">UI Development Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Software Architecture</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Working with TouchGFX</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Designer User Guide</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">TouchGFX Engine Features</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/4.17/ko/docs/development/ui-development/touchgfx-engine-features/custom-triggers-and-actions">Custom Triggers and Actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/4.17/ko/docs/development/ui-development/touchgfx-engine-features/custom-containers">Custom Containers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/4.17/ko/docs/development/ui-development/touchgfx-engine-features/caching-bitmaps">Caching Bitmaps</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/4.17/ko/docs/development/ui-development/touchgfx-engine-features/custom-widgets">Custom Widgets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/4.17/ko/docs/development/ui-development/touchgfx-engine-features/canvas-widgets">Canvas Widgets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/4.17/ko/docs/development/ui-development/touchgfx-engine-features/dynamic-bitmaps">Dynamic Bitmaps</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/4.17/ko/docs/development/ui-development/touchgfx-engine-features/using-binary-fonts">Binary Fonts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/4.17/ko/docs/development/ui-development/touchgfx-engine-features/font-cache">Font Caching</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/4.17/ko/docs/development/ui-development/touchgfx-engine-features/using-binary-translations">Binary Translations</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/4.17/ko/docs/development/ui-development/touchgfx-engine-features/backend-communication">백엔드 통신</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/4.17/ko/docs/development/ui-development/touchgfx-engine-features/mixins">Mixins</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/4.17/ko/docs/development/ui-development/touchgfx-engine-features/texts-and-fonts">Texts and Fonts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/4.17/ko/docs/development/ui-development/touchgfx-engine-features/languages-and-characters">Languages and Characters</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">UI Components</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Scenarios</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Scenarios</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Miscellaneous</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tutorials</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">API</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Resources</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for TouchGFX Documentation <b>4.17</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="https://support.touchgfx.com" target="_blank" rel="noopener noreferrer">latest version</a></b> ({versionLabel}).</div></div><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">백엔드 통신</h1></header><p>대부분의 애플리케이션에서 UI는 UI 외에 다른 시스템과 어떤 식으로든 연결되어 데이터를 주고받아야 합니다. 이는 하드웨어 주변 장치(센서 데이터, A/D 변환, 직렬 통신 등)와 연결될 수도 있고, 다른 소프트웨어 모듈과 연결될 수도 있습니다.</p><p>이 섹션에서는 이러한 연결을 구현하는데 있어 권장하는 솔루션에 대해 설명합니다.</p><p>첫 번째 방법은 주로 프로토타이핑에 사용되는 <a href="#sampling-from-gui-task">&quot;빠르고 간편한(quick-and-dirty)&quot;</a> 방식인 반면, <a href="#sampling-from-secondary-task">두 번째 방법</a>은 UI를 실제 애플리케이션에서 다른 구성 요소들과 아키텍처적으로 올바르게 연결하는 견고한 방법입니다.</p><p>이 섹션 마지막에는 두 가지 방법을 사용하는 예시를 살펴보겠습니다.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="the-model-class"></a>모델 클래스<a class="hash-link" href="#the-model-class" title="Direct link to heading">#</a></h2><p>모든 TouchGFX 애플리케이션에는 하나의 모델 클래스가 있습니다. 모델 클래스는 UI 상태 정보를 저장하는 것 외에도 주변 시스템과 연결되는 인터페이스 역할을 합니다. 이를 통해 양측 하드웨어 주변 장치 모두를 참조하기도 하지만 시스템에서 다른 OS 테스크(Task)와 통신하기도 합니다. 일반적으로 각각 뷰 클래스에서 다른 소프트웨어 모듈이나 하드웨어에 액세스하도록 설계하는 것은 바람직하지 않습니다.</p><div class="highlight highlight-further-reading"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></div>Further reading</h5></div><div class="highlight-content">모델에 대한 자세한 내용은 <a href="/4.17/ko/docs/development/ui-development/software-architecture/model-view-presenter-design-pattern">MVP 패턴을 참조하십시오.</a></div></div><p>모델 클래스는 이러한 인터페이스 코드를 삽입하는 데 적합한데, 그 이유는 다음과 같습니다.</p><ol><li>모델 클래스에는 각 프레임마다 자동으로 호출되는 <code>tick()</code> 함수가 있어서 다른 하위 모듈에서 수신되는 이벤트를 찾아 여기에 반응하도록 구현할 수 있습니다.</li><li>모델 클래스에는 UI에 수신된 이벤트를 알릴 수 있도록 현재 활성화된 프리젠터를 가리키는 포인터가 있습니다.</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="system-interfacing"></a>시스템 연결<a class="hash-link" href="#system-interfacing" title="Direct link to heading">#</a></h2><p>주변 시스템과 연결하는 방법은 GUI 테스크에서 직접 샘플링하는 것과 보조 테스크에서 샘플링하는 것, 두 가지가 있습니다.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="sampling-from-gui-task"></a>GUI 테스크에서 샘플링하기<a class="hash-link" href="#sampling-from-gui-task" title="Direct link to heading">#</a></h3><p>주변 시스템을 연결할 때 가장 좋은 방법은 샘플링 빈도와 샘플링 소요 시간, 그리고 소요 시간의 중요도에 따라 다릅니다.</p><p>이 세 가지와 관련하여 요건이 엄격하지 않다면 <code>Model::tick</code> 함수에서 직접 주변 시스템을 샘플링하는 것이 가장 간단합니다.</p><p>샘플링 발생 빈도가 프레임 속도(일반적으로 약 60Hz)보다 낮을 경우에는 카운터만 추가하여 N번째 실행 이벤트에서만 샘플링을 할 수 있습니다. 이러한 방식에서는 샘플링 연산이 다소 빨라야 합니다(일반적으로 1ms 이하). 그렇지 않으면 프레임 속도에 문제가 발생하게 되는데, 이는 샘플링이 GUI 테스크 맥락에서 이루어져 프레임 그리기 작업을 지연시키기 때문입니다.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="sampling-from-secondary-task"></a>Sampling from Secondary Task<a class="hash-link" href="#sampling-from-secondary-task" title="Direct link to heading">#</a></h3><p>Alternatively, if it is not desirable to place the interaction with the surrounding system directly within the context of the GUI task, you can create a new OS task responsible for doing the sampling.</p><p>You can configure this task to run at the exact time intervals you need for your specific scenario. Also depending on your needs this new task can have a lower or higher priority than the GUI task.</p><p>If it has a higher priority, then you are guaranteed that it runs at exactly the times you have specified, regardless of what the GUI task is doing. This has the drawback that if it is a CPU consuming process it might impact the frame rate of the UI.</p><p>If on the other hand the sampling is not time critical, you can assign the task a lower priority than the GUI task, such that the UI frame rate is never affected by the sampling of the surrounding system. The GUI task will sleep a lot while rendering (e.g. when waiting for a DMA-based pixel transfer to complete) so lower priority tasks will be allowed to run quite frequently and this is therefore sufficient for the vast majority of applications.</p><p>If you use the secondary task approach, we recommend that you take advantage of the inter-task messaging system that is provided by your RTOS. Most, if not all, RTOSes have a queue/mail mechanism which allows you to send data (typically user-defined C structs, byte arrays or simple integers) from one task to another. In order to communicate new data to the GUI task, set up a mailbox or message queue for the UI task, and send the data to the GUI task using this messaging system. You can then <code>Model::tick</code> poll the mailbox of the GUI task to check if any new data has arrived. In case, read the data and update the UI accordingly.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="propagating-data-to-ui"></a>Propagating Data to UI<a class="hash-link" href="#propagating-data-to-ui" title="Direct link to heading">#</a></h2><p>Regardless of whether you use <a href="#sampling-from-gui-task">Sampling from GUI Task</a> or <a href="#sampling-from-secondary-task">Sampling from Secondary Task</a>, the <code>Model::tick</code> function is the place where the GUI Task becomes aware of the new data to be shown in the UI. Apart from acting as an interface to your surrounding system, recall from earlier that the Model class is also responsible for holding state data, so there might be some state variables that need to be updated too.</p><p>Let us consider a simple example where a temperature sensor is attached to the system, and that the current temperature is to be shown in the UI. In preparation, we will augment the Model class to support this:</p><div class="code-header"><div><h5>Model.hpp</h5></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Model</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Function that allow your Presenters to read current temperature.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getCurrentTemperature</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> currentTemperature</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Called automatically by framework every tick.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">tick</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">private</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Variable storing last received temperature;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> currentTemperature</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>With the above, your <code>Presenters</code> are able to ask the model about the current temperature, allowing a Presenter to set this value in the UI (the View) when entering a screen that displays the temperature. What we need to do now is to be able to update the UI again when new temperature information is received. To do this we take advantage of the fact that the Model has a pointer to your currently active Presenter. The type of this pointer is an interface (<code>ModelListener</code>) which you can modify to reflect the application-specific events that are appropriate:</p><div class="code-header"><div><h5>ModelListener.hpp</h5></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ModelListener</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Call this function to notify that temperature has changed.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Per default, use an empty implementation so that only those</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Presenters interested in this specific event need to</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// override this function.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">notifyTemperatureChanged</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> newTemperature</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Now that we have this interface hooked up, the remaining this is to do the actual sampling of incoming &quot;<i>new temperature</i>&quot; events <code>Model::tick</code></p><div class="code-header"><div><h5>Model.cpp</h5></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Model</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">tick</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Pseudo-code for sampling data</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">OS_Poll</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GuiTaskMBox</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Here we assume that you have defined a &quot;Message&quot; struct containing type and data,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// along with some event definitions.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Message</span><span class="token plain"> msg </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">OS_Read</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GuiTaskMBox</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">msg</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">eventType </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> EVT_TEMP_CHANGED</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// We received information that temperature has changed.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// First, update Model state variable</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       currentTemperature </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> msg</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Second, notify the currently active Presenter that temperature has changed.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// The modelListener pointer points to the currently active Presenter.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">modelListener </span><span class="token operator" style="color:rgb(137, 221, 255)">!=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        modelListener</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token function" style="color:rgb(130, 170, 255)">notifyTemperatureChanged</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">currentTemperature</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The approach above ensures two things:</p><ol><li>The <code>currentTemperature</code> variable is always up-to-date so that your Presenter can at any time obtain the current temperature.</li><li>The <code>Presenter</code> is immediately notified of temperature changes and can take appropriate action.</li></ol><p>One advantage of the MVP pattern is that you achieve a separated handling of notifications depending on what screen you are currently on. Assume for instance that a temperature changed event occurs while displaying some kind of settings menu <i>(e.g. MainMenuPresenter/MainMenuView is active)</i> where the current temperature is of no relevance.</p><p>Since the <code>notifyTemperatureChanged</code> function has a default empty implementation, this notification is simply disregarded by the <code>MainMenuPresenter</code>. On the other hand, if you have a <code>TemperatureControlPresenter</code> you can in this Presenter override the <code>notifyTemperatureChanged</code> function and inform the View that it should display an updated temperature:</p><div class="code-header"><div><h5>TemperatureControlPresenter.hpp</h5></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">TemperatureControlPresenter</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token base-clause class-name" style="color:rgb(255, 203, 107)">public</span><span class="token base-clause"> </span><span class="token base-clause class-name" style="color:rgb(255, 203, 107)">ModelListener</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// override the empty function.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">notifyTemperatureChanged</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> newTemperature</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    view</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">setTemp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">newTemperature</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The View class <code>TemperatureControlView</code>, must of course implement the <code>setTemp</code> method.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="transmitting-data-from-ui-to-surrounding-system"></a>Transmitting Data from UI to Surrounding System<a class="hash-link" href="#transmitting-data-from-ui-to-surrounding-system" title="Direct link to heading">#</a></h2><p>The reverse direction where data/events are transferred from the UI to the surrounding system, is done through the Model in much the same way. Continuing the example from before if we need to add the ability to configure a new target temperature, we would add the following to the Model:</p><div class="code-header"><div><h5>Model.hpp</h5></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">setNewTargetTemperature</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> newTargetTemp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Pseudo-code for sending an event to a task responsible for controlling temperature.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Message</span><span class="token plain"> msg</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  msg</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">eventType </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> EVT_SET_TARGET_TEMP</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  msg</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">data </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> newTargetTemp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">OS_Send</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">SystemTaskMBox</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;</span><span class="token plain">msg</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>In case the user sets a new target temperature in the UI, the View can inform the Presenter which holds a pointer to the Model object and is therefore able to call the <code>setNewTargetTemperature</code> 함수에서 직접 주변 시스템을 샘플링하는 것이 가장 간단합니다.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="examples"></a>Examples<a class="hash-link" href="#examples" title="Direct link to heading">#</a></h2><p>The following examples are full demos configured for specific demo boards, however much of the code demonstrated can be reused for other demo boards and custom hardware.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="from-gui-task"></a>From GUI Task<a class="hash-link" href="#from-gui-task" title="Direct link to heading">#</a></h3><p><a href="http://sw-center.st.com/touchgfx/TouchGFX/knowledgebase/PoolDemoHwInt.4.9.3.zip" target="_blank" rel="noopener noreferrer">A working example</a> for STM32F746 showing how to sample a button and controlling a LED directly in the Model class. The example uses the MVP architecture to transfer values and events between the two views and the Model class. The Model class samples a button and updates the LED to match the state of the application.</p><p><a href="http://sw-center.st.com/touchgfx/TouchGFX/knowledgebase/PoolDemoHwInt429.4.9.3.zip" target="_blank" rel="noopener noreferrer">A working example</a> for STM32F429 showing how to sample a button in the Model class. The example uses the MVP architecture to transfer the button event to the View.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="from-other-task"></a>From Other Task<a class="hash-link" href="#from-other-task" title="Direct link to heading">#</a></h3><p><a href="http://sw-center.st.com/touchgfx/TouchGFX/knowledgebase/PoolDemoHwInt469Eval.4.9.3.zip" target="_blank" rel="noopener noreferrer">A working example</a> for STM32F469 showing how to sample an analog input in separate thread. The example uses the MVP architecture to transfer the analog value to the View.</p><p><a href="http://sw-center.st.com/touchgfx/TouchGFX/knowledgebase/c_task_condenser_example.4.9.3.zip" target="_blank" rel="noopener noreferrer">A working example</a> showing intertask communication and propagation to and from the UI. Use this as inspiration for your own setup. The example communicates between the backend system implemented in C code and the C++ TouchGFX GUI. The example runs on the STM32F746G-DISCO board on top of FreeRTOS.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="from-multiple-tasks"></a>From Multiple tasks<a class="hash-link" href="#from-multiple-tasks" title="Direct link to heading">#</a></h3><p><a href="http://sw-center.st.com/touchgfx/TouchGFX/knowledgebase/hw_integration_tasks_gpio.4.9.3.zip" target="_blank" rel="noopener noreferrer">This working example</a> was demonstrated at the TouchGFX webinar &quot;Integration with your hardware&quot; from the 28th of May 2018.</p><p>The application was designed for the STM32F769-DISCO board and interacts with an LED and the USER BUTTON to show how to integrate both C code and hardware peripherals into your TouchGFX application.</p><p>The application configures the button in GPIO mode. Behavior is to sample the state of the button in btntask.c and pass a message through the GUI message queue if the button is pressed down. This allows us to advance the animation in the application by keeping the button pressed.</p><p>The application uses three FreeRTOS tasks. One for the GUI, one for each peripheral (LED and USER Button).</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="from-task-and-external-interrupt-line"></a>From Task and External Interrupt Line<a class="hash-link" href="#from-task-and-external-interrupt-line" title="Direct link to heading">#</a></h3><p><a href="http://sw-center.st.com/touchgfx/TouchGFX/knowledgebase/hw_integration_tasks_exti.4.9.3.zip" target="_blank" rel="noopener noreferrer">This working example</a> was demonstrated at the TouchGFX webinar &quot;Integration with your hardware&quot; from the 28th of May 2018.</p><p>The application was designed for the STM32F769-DISCO board and interacts with an LED and the USER BUTTON to show how to integrate both C code and hardware peripherals into your TouchGFX application.</p><p>This application configures the button in EXTI mode (external interrupt line 0). Behavior is to receive an interrupt when the button is pressed down after which the interrupt is cleared. This does not allow the same behavior as in GPIO, but instead we&#x27;ll be single stepping the animation because a message is only sent through the gui message queue whenever an interrupt is received.</p><p>The application uses two FreeRTOS tasks. One for the GUI, one for the LED. (The Button task from <a href="#from-multiple-tasks">Multiple tasks demo</a> remains active in this application to exemplify that the peripheral interaction code has been moved into an interrupt handler).</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/4.17/ko/docs/development/ui-development/touchgfx-engine-features/using-binary-translations"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Binary Translations</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/4.17/ko/docs/development/ui-development/touchgfx-engine-features/mixins"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Mixins »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#the-model-class" class="table-of-contents__link">모델 클래스</a></li><li><a href="#system-interfacing" class="table-of-contents__link">시스템 연결</a><ul><li><a href="#sampling-from-gui-task" class="table-of-contents__link">GUI 테스크에서 샘플링하기</a></li><li><a href="#sampling-from-secondary-task" class="table-of-contents__link">Sampling from Secondary Task</a></li></ul></li><li><a href="#propagating-data-to-ui" class="table-of-contents__link">Propagating Data to UI</a></li><li><a href="#transmitting-data-from-ui-to-surrounding-system" class="table-of-contents__link">Transmitting Data from UI to Surrounding System</a></li><li><a href="#examples" class="table-of-contents__link">Examples</a><ul><li><a href="#from-gui-task" class="table-of-contents__link">From GUI Task</a></li><li><a href="#from-other-task" class="table-of-contents__link">From Other Task</a></li><li><a href="#from-multiple-tasks" class="table-of-contents__link">From Multiple tasks</a></li><li><a href="#from-task-and-external-interrupt-line" class="table-of-contents__link">From Task and External Interrupt Line</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">All rights reserved © 2021 STMicroelectronics | <a href="https://www.st.com/content/st_com/en/common/terms-of-use.html">Terms of use</a> | <a href="https://www.st.com/content/st_com/en/common/privacy-policy.html">Privacy Policy</a> | <a href="/docs/miscellaneous/cookie-policy">Cookie Policy</a> | <a href="https://app-de.onetrust.com/app/#/webform/2b87200d-4023-4588-9df7-ab0cdea1a67e">Exercise your rights</a></div></div></div></footer></div>
<script src="/4.17/ko/assets/js/runtime~main.963831fc.js"></script>
<script src="/4.17/ko/assets/js/main.7981b945.js"></script>
</body>
</html>