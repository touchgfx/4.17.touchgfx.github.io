<!doctype html>
<html lang="zh-TW" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="search" type="application/opensearchdescription+xml" title="TouchGFX Documentation" href="/4.17/zh-TW/opensearch.xml">
<script src="/4.17/js/fix-location.js"></script><title data-react-helmet="true">文字和字體 | TouchGFX Documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://support.touchgfx.com/4.17/zh-TW/docs/development/ui-development/touchgfx-engine-features/texts-and-fonts"><meta data-react-helmet="true" name="docsearch:language" content="zh-TW"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="文字和字體 | TouchGFX Documentation"><meta data-react-helmet="true" name="description" content="文字和字體對新式圖形化使用者介面的一個十分重要。 必須能夠以應用支援的所有語言顯示高品質抗鋸齒文字。"><meta data-react-helmet="true" property="og:description" content="文字和字體對新式圖形化使用者介面的一個十分重要。 必須能夠以應用支援的所有語言顯示高品質抗鋸齒文字。"><meta data-react-helmet="true" property="og:image" content="https://support.touchgfx.com/4.17/zh-TW/img/meta-image.png"><meta data-react-helmet="true" name="twitter:image" content="https://support.touchgfx.com/4.17/zh-TW/img/meta-image.png"><link data-react-helmet="true" rel="shortcut icon" href="/4.17/zh-TW/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://support.touchgfx.com/4.17/zh-TW/docs/development/ui-development/touchgfx-engine-features/texts-and-fonts"><link data-react-helmet="true" rel="alternate" href="https://support.touchgfx.com/4.17/docs/development/ui-development/touchgfx-engine-features/texts-and-fonts" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://support.touchgfx.com/4.17/ko/docs/development/ui-development/touchgfx-engine-features/texts-and-fonts" hreflang="ko"><link data-react-helmet="true" rel="alternate" href="https://support.touchgfx.com/4.17/ja/docs/development/ui-development/touchgfx-engine-features/texts-and-fonts" hreflang="ja"><link data-react-helmet="true" rel="alternate" href="https://support.touchgfx.com/4.17/zh-CN/docs/development/ui-development/touchgfx-engine-features/texts-and-fonts" hreflang="zh-CN"><link data-react-helmet="true" rel="alternate" href="https://support.touchgfx.com/4.17/zh-TW/docs/development/ui-development/touchgfx-engine-features/texts-and-fonts" hreflang="zh-TW"><link data-react-helmet="true" rel="alternate" href="https://support.touchgfx.com/4.17/docs/development/ui-development/touchgfx-engine-features/texts-and-fonts" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/4.17/zh-TW/assets/css/styles.1507df0a.css">
<link rel="preload" href="/4.17/zh-TW/assets/js/runtime~main.19b59493.js" as="script">
<link rel="preload" href="/4.17/zh-TW/assets/js/main.0b58ca38.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/4.17/zh-TW/docs/introduction/welcome"><img src="/4.17/zh-TW/img/logo.svg" alt="TouchGFX" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/4.17/zh-TW/img/logo.svg" alt="TouchGFX" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__item navbar__link"><span><span>繁體中文</span></span></a><ul class="dropdown__menu"><li><a href="/4.17/docs/development/ui-development/touchgfx-engine-features/texts-and-fonts" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">English</a></li><li><a href="/4.17/ko/docs/development/ui-development/touchgfx-engine-features/texts-and-fonts" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">한국어</a></li><li><a href="/4.17/ja/docs/development/ui-development/touchgfx-engine-features/texts-and-fonts" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">日本語</a></li><li><a href="/4.17/zh-CN/docs/development/ui-development/touchgfx-engine-features/texts-and-fonts" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">简体中文</a></li><li><a href="/4.17/zh-TW/docs/development/ui-development/touchgfx-engine-features/texts-and-fonts" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">繁體中文</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link" href="/4.17/zh-TW/docs/introduction/welcome">4.17</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/4.17/zh-TW/docs/development/ui-development/touchgfx-engine-features/texts-and-fonts">4.17</a></li><li><a href="https://support.touchgfx.com/4.16" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>4.16<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://support.touchgfx.com/4.15" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>4.15<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://support.touchgfx.com/4.14" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>4.14<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://support.touchgfx.com/4.13" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>4.13<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><a href="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community</a><a href="https://touchgfx.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">TouchGFX.com</a><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Basic Concepts</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Development</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/4.17/zh-TW/docs/development/development-introduction">開發簡介</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Hardware Selection</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Board Bring Up</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">TouchGFX AL Development</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">UI Development</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/4.17/zh-TW/docs/development/ui-development/ui-development-introduction">UI開發簡介</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Software Architecture</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Working with TouchGFX</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Designer User Guide</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">TouchGFX Engine Features</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/4.17/zh-TW/docs/development/ui-development/touchgfx-engine-features/custom-triggers-and-actions">自訂觸發條件和行為</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/4.17/zh-TW/docs/development/ui-development/touchgfx-engine-features/custom-containers">自訂容器</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/4.17/zh-TW/docs/development/ui-development/touchgfx-engine-features/caching-bitmaps">快取點陣圖</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/4.17/zh-TW/docs/development/ui-development/touchgfx-engine-features/custom-widgets">自訂小部件</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/4.17/zh-TW/docs/development/ui-development/touchgfx-engine-features/canvas-widgets">Canvas Widgets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/4.17/zh-TW/docs/development/ui-development/touchgfx-engine-features/dynamic-bitmaps">動態點陣圖</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/4.17/zh-TW/docs/development/ui-development/touchgfx-engine-features/using-binary-fonts">二進位字體</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/4.17/zh-TW/docs/development/ui-development/touchgfx-engine-features/font-cache">字體快取</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/4.17/zh-TW/docs/development/ui-development/touchgfx-engine-features/using-binary-translations">二進位翻譯</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/4.17/zh-TW/docs/development/ui-development/touchgfx-engine-features/backend-communication">後端通信</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/4.17/zh-TW/docs/development/ui-development/touchgfx-engine-features/mixins">Mixins</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/4.17/zh-TW/docs/development/ui-development/touchgfx-engine-features/texts-and-fonts">文字和字體</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/4.17/zh-TW/docs/development/ui-development/touchgfx-engine-features/languages-and-characters">語言和字元</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">UI Components</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Scenarios</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Scenarios</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Miscellaneous</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tutorials</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">API</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Resources</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for TouchGFX Documentation <b>4.17</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="https://support.touchgfx.com" target="_blank" rel="noopener noreferrer">latest version</a></b> ({versionLabel}).</div></div><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">文字和字體</h1></header><p>文字和字體對新式圖形化使用者介面的一個十分重要。 必須能夠以應用支援的所有語言顯示高品質抗鋸齒文字。</p><p>TouchGFX支援通過TouchGFX Designer的<a href="/4.17/zh-TW/docs/development/ui-development/designer-user-guide/texts-view">文本視圖</a>創建和修改文字和字體排印。 TouchGFX Designer將文字和字體排印配置輸出到試算表（位於 <code>assets/texts/texts.xlsx）</code>。 將此試算表與字體檔一起輸入字體和文字轉換器工具，輸出生成的TouchGFX可渲染的C++程式碼檔。</p><p>本文介紹文字和字體轉換器工具，並說明如何通過程式碼和TouchGFX Designer使用在應用中生成的文字。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="texts-and-typographies"></a>文字和字體排印<a class="hash-link" href="#texts-and-typographies" title="Direct link to heading">#</a></h2><p>TouchGFX應用中的文字、翻譯檔和字體排印存儲在 <code>assets/texts/texts.xlsx</code> 試算表中。 該試算表包含兩個工作表。 一個工作表定義應用中使用的字體排印，另一個工作表定義文字及其所有翻譯檔。 此試算表通常被稱為“文字資料庫”。</p><p>可以在TouchGFX Designer的<a href="/4.17/zh-TW/docs/development/ui-development/designer-user-guide/texts-view">文字視圖</a>中編輯字體排印，該視圖支援文字和翻譯檔的即時編輯和處理。 但是，也可以在texts.xlsx試算表中直接編輯字體排印和文字。 通常不建議這樣做，至少在開發階段不建議。 如果使用外部資源翻譯，可以更容易地分享試算表，而不是必須在TouchGFX Designer中進行。 如果在開發過程中編輯試算表，由於TouchGFX Designer打開時會鎖定texts.xlsx檔，因此必須關閉它才能進行編輯。</p><div class="highlight highlight-further-reading"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></div>Further reading</h5></div><div class="highlight-content">如需獲取關於如何創建和編輯字體排印、文字、翻譯檔和語言的更多資訊，請轉至<a href="/4.17/zh-TW/docs/development/ui-development/designer-user-guide/texts-view">文字視圖</a></div></div><div class="highlight highlight-note"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></div>Note</h5></div><div class="highlight-content">對於字形點陣圖分佈格式字體（.bdf），並不能渲染字體的所有字型大小。 如果字體排印紙中的給定字型大小與給定字體不匹配，字體轉換工具將回報支援的字型大小。 將字體排印紙中的字型大小更新為支援的字型大小之一，即可解決問題。</div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="the-text-converter"></a>文字轉換器<a class="hash-link" href="#the-text-converter" title="Direct link to heading">#</a></h2><p>文字轉換器是將文字資料庫中的文字資訊轉換為TouchGFX應用使用的內部C++格式的工具。 該工具是構建工具鏈不可或缺的一部分，將在構建模擬器時自動執行。 如果自上一次構建後文字資料庫沒有更新，則不執行文字轉換器。</p><div class="figure"><a href="/4.17/zh-TW/img/development/ui-development/touchgfx-engine-features/texts-and-fonts/text-converter.png" target="_blank"><img src="/4.17/zh-TW/img/development/ui-development/touchgfx-engine-features/texts-and-fonts/text-converter.png"></a><p></p></div><div class="highlight highlight-note"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></div>Note</h5></div><div class="highlight-content">文字轉換器的輸出目錄為 <code>generated/texts/</code>。</div></div><p>文字轉換器將文字資料庫中的所有指定文字轉換為TouchGFX使用的文字格式。 格式被封裝成名為<code>TypedText</code>的對象。 TouchGFX中的<code>TypedText</code>是文字內容本身與文字字體排印的組合實體。 字體排印包含文字的字體和字型大小，以及字體字形抗鋸齒時使用的每一像素位元數（bpp）。</p><p>文字轉換器生成名為 <code>generated/texts/include/texts/TextKeysAndLanguages.hpp 的文件</code>。 此檔包含引用文字資料庫中所有文字的枚舉<code>TEXTS</code>。</p><p>請注意，枚舉中的所有條目均生成自文字資料庫每一行中規定的文字ID，但具有前置的T_並轉換成大寫字母。 應用中使用這些枚舉值初始化TypedText。</p><p>The <code>TextKeysAndLanguages.hpp</code> 還包含枚舉<code>LANGUAGES</code>，它指定文字資料庫中現有的所有語言。 命名與文字資料庫中的語言列相同。</p><div class="code-header"><div><h5>generated/texts/include/texts/TextKeysAndLanguages.hpp</h5></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* DO NOT EDIT THIS FILE */</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/* This file is autogenerated by the text-database code generator */</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">ifndef</span><span class="token macro property"> </span><span class="token macro property expression">TEXT_KEYS_AND_LANGUAGES_HPP</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">define</span><span class="token macro property"> </span><span class="token macro property macro-name">TEXT_KEYS_AND_LANGUAGES_HPP</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">typedef</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">enum</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    GB</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    DE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    NUMBER_OF_LANGUAGES</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> LANGUAGES</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">typedef</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">enum</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    T_TEMPERATURE_READOUT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    T_TEMPERATURE_HEADLINE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    NUMBER_OF_TEXT_KEYS</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> TEXTS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">endif</span><span class="token macro property"> </span><span class="token macro property comment" style="color:rgb(105, 112, 152);font-style:italic">/* TEXT_KEYS_AND_LANGUAGES_HPP */</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">複製</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="the-font-converter"></a>文字轉換器<a class="hash-link" href="#the-font-converter" title="Direct link to heading">#</a></h2><p>文字轉換器是將字體檔中的資訊與文字資料庫中的資訊進行組合並生成應用需要的字元的工具。 輸出格式是TouchGFX應用使用的內部C++格式。 該工具是構建工具鏈不可或缺的一部分，將在構建模擬器時自動執行。</p><div class="figure"><a href="/4.17/zh-TW/img/development/ui-development/touchgfx-engine-features/texts-and-fonts/font-converter.png" target="_blank"><img src="/4.17/zh-TW/img/development/ui-development/touchgfx-engine-features/texts-and-fonts/font-converter.png"></a><p></p></div><p>文字轉換器接受</p><ul><li>TrueType (.ttf)</li><li>OpenType (.otf)</li><li>Glyph Bitmap Distribution Format (.bdf).</li></ul><p>只需將字體放在 <code>assets/fonts/</code> 資料夾中，TouchGFX Designer就可以引用該字體 <i>（如果在TouchGFX Designer運行時添加字體，必須重啟軟體才能更新可用字體）</i>。</p><p>在TouchGFX Designer中，還可以使用Windows作業系統中安裝的字體，選擇這些字體中的任何字體，它們就會被自動添加到 <code>assets/fonts/</code> 資料夾</p><p>字體轉換器使用提供的字體中的字距調整資訊進行字距調整。</p><div class="highlight highlight-note"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></div>Note</h5></div><div class="highlight-content"><li>使用TouchGFX並不以任何形式提供任何TrueType、OpenType或Bitmap字體的商業使用許可。</li><li>字體轉換器的輸出目錄為generated/fonts/。</li></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="character-memory-optimization"></a>字元存儲空間優化<a class="hash-link" href="#character-memory-optimization" title="Direct link to heading">#</a></h2><p>TouchGFX為減少存儲空間消耗而進行了優化。 通過分析對特定字體排印使用的字元，將生成的字元（內部C++格式）數量最大限度壓縮至應用實際使用的字元。</p><p>另外，通過在<a href="/4.17/zh-TW/docs/development/ui-development/designer-user-guide/config-view#text-configuration">文字配置</a>中啟用重新映射文字的選項，壓縮使用常用尾碼的文字，從而優化文字存儲空間消耗量。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="wildcards"></a>萬用字元<a class="hash-link" href="#wildcards" title="Direct link to heading">#</a></h2><p>可將執行時間值作為文字的一部分來使用。 這可以通過在文字中使用萬用字元來實現。 按給定格式<code>&lt;*&gt;</code>指定萬用字元，其中的*表示不會包含在結果文字中的可選輔助文字。 一個文字中可以有至多2個萬用字元。</p><p>給定文字的所有翻譯檔必須包含相同數量的萬用字元。 在執行時間在應用C++程式碼中插入萬用字元值。</p><p>萬用字元使用範例：<strong>溫度為 &lt;insert_temperature&gt;°</strong></p><p>要注意的一個細節是，由於字元存儲空間優化（參見上一節），只為特定字體排印生成了採用此字體排印的文字中使用的字元。 為強制字體生成器包含特定字元，您可以對每種字體排印使用“<i>萬用字元</i>”和“<i>字元範圍</i>”。</p><p>像下面這樣使用反斜線記號可以避免萬用字元格式<code>&lt;*&gt;</code>：<strong>\&lt;not a wildcard\&gt;</strong>。 這會導致應用中使用文本“<i>&lt;not a wildcard&gt;</i>”。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="using-wildcards-in-touchgfx-designer"></a>在TouchGFX Designer中使用萬用字元<a class="hash-link" href="#using-wildcards-in-touchgfx-designer" title="Direct link to heading">#</a></h3><p>在TouchGFX Designer中，可以將萬用字元添加到常規TextArea。 現在，儘管TouchGFX中生成程式碼的方式並無變化，但有效地讓TextArea小部件覆蓋了之前被TextAreaWithOneWildcard/TextAreaWithTwoWildcards小部件覆蓋的功能。</p><p>在TouchGFX Designer中，您可以將萬用字元添加到TextArea，方法是使用常用語法<code>&lt;*&gt;</code>或簡單地點擊所選TextArea的屬性中的“ <i>添加萬用字元</i> ”按鈕。 以下範例是將溫度讀數添加到TextArea，可顯示為 <i>The temperature is °。</i>。 這種情況下可能是室外溫度讀數。 下面我們要插入一個萬用字元，不僅顯示靜態數值，還將根據溫度讀數進行更新。 萬用字元會被添加到文字中插入點游標的當前位置：</p><div class="figure"><a href="/4.17/zh-TW/img/development/ui-development/touchgfx-engine-features/texts-and-fonts/adding-wild-card-to-text-area-4.17.png" target="_blank"><img src="/4.17/zh-TW/img/development/ui-development/touchgfx-engine-features/texts-and-fonts/adding-wild-card-to-text-area-4.17.png"></a><p>將萬用字元添加到Text Area小部件</p></div><p>現在，屬性中的文字將顯示 <i>The temperature is &lt;value&gt;°</i>，而畫布上的文字顯示 <i>The temperature is   °：</i>:</p><div class="figure"><a href="/4.17/zh-TW/img/development/ui-development/touchgfx-engine-features/texts-and-fonts/temperature-wildcard-example-4.17.png" target="_blank"><img src="/4.17/zh-TW/img/development/ui-development/touchgfx-engine-features/texts-and-fonts/temperature-wildcard-example-4.17.png"></a><p>TouchGFX Designer中帶萬用字元的Text Area小部件</p></div><p>為了設置特定的萬用字元，您可以點擊相應的“萬用字元”按鈕（本例中為萬用字元1），就可以編輯剛才添加的萬用字元。</p><p>在這裡，您可以選擇如何更新萬用字元。 要麼通過預定義資源文字，要麼通過動態執行時間創建的文字。 在兩種情況下，都可以在執行時間更新文字。 對於後者，需要一個萬用字元緩衝區用於存儲動態文字。 這樣的緩衝區可通過選中萬用字元緩衝區 <i>核取方塊</i> 來創建。 在這種情況下，還需要指定緩衝區大小（字元數）。 如果想要高效地利用存儲空間，需使指定大小盡可能接近實際需要的文字大小。 記住，為字串結束符（“\0”）增加一個額外空格。</p><p>另外，還可以為萬用字元設置初始值，這樣可以看到包含溫度讀數的TextArea的最終外觀。 設置初始值會在文字資料庫中創建硬編碼一次性使用文字，或者如果選擇了使用萬用字元緩衝區，則將其插入萬用字元緩衝區：</p><div class="figure"><a href="/4.17/zh-TW/img/development/ui-development/touchgfx-engine-features/texts-and-fonts/wildcard-setup-in-touchgfx-deisgner-4.17.png" target="_blank"><img src="/4.17/zh-TW/img/development/ui-development/touchgfx-engine-features/texts-and-fonts/wildcard-setup-in-touchgfx-deisgner-4.17.png"></a><p>TouchGFX Designer中的萬用字元設置</p></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="using-wildcards-in-user-code"></a>在用戶程式碼中使用萬用字元<a class="hash-link" href="#using-wildcards-in-user-code" title="Direct link to heading">#</a></h3><p>還可通過用戶程式碼添加和更新萬用字元，如下面的程式碼範例所示， <code>Unicode::UnicodeChar</code> 陣列在用戶程式碼中進行管理和更新。</p><div class="code-header"><div><h5>gui/include/gui/some_screen/SomeView.hpp</h5></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;touchgfx/widgets/TextAreaWithWildcard.hpp&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">SomeView</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token base-clause class-name" style="color:rgb(255, 203, 107)">public</span><span class="token base-clause"> </span><span class="token base-clause class-name" style="color:rgb(255, 203, 107)">View</span><span class="token base-clause operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token base-clause class-name" style="color:rgb(255, 203, 107)">SomePresenter</span><span class="token base-clause operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  TextAreaWithOneWildcard txt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Unicode</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token plain">UnicodeChar txtBuffer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">複製</button></div></div><div class="code-header"><div><h5>gui/src/some_screen/SomeView.cpp</h5></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;texts/TextKeysAndLanguages.hpp&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;touchgfx/Color.hpp&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">SomeView</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">setupScreen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  txt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">setTypedText</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">TypedText</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">T_TEMPERATURE_READOUT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  txt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">setXY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  txt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">setColor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">Color</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">getColorFrom24BitRGB</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0xFF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0xFF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0xFF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  txt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">setWildcard</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">txtBuffer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">txt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">updateTxt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">SomeView</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">updateTxt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> newValue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token class-name" style="color:rgb(255, 203, 107)">Unicode</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">snprintf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">txtBuffer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;%d&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> newValue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  txt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">invalidate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">複製</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="text-placement"></a>文字放置<a class="hash-link" href="#text-placement" title="Direct link to heading">#</a></h2><p>對於所有TouchGFX小部件，通過指定位置（X和Y）和尺寸（寬和高）將TextArea放置到螢幕上。 可以在TouchGFX Designer的小部件屬性中輕鬆做到這一點，但是與TouchGFX渲染文字相比，TouchGFX Designer中的文字渲染並非總是100%準確。</p><p>本節還描述了在處理文本時要注意的更多細節和可能性。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="alignment"></a>對齊<a class="hash-link" href="#alignment" title="Direct link to heading">#</a></h3><p>按照為文字資料庫中選中文字條目指定的對齊方式對齊TextArea中的文字。 文字對齊是就TextArea的區域而言。 在下面的螢幕截圖中，TextArea的區域highlighte顯示為藍色。</p><div class="figure"><a href="/4.17/zh-TW/img/development/ui-development/touchgfx-engine-features/texts-and-fonts/text-left-align.png" target="_blank"><img src="/4.17/zh-TW/img/development/ui-development/touchgfx-engine-features/texts-and-fonts/text-left-align.png"></a><p>左對齊文字</p></div><div class="figure"><a href="/4.17/zh-TW/img/development/ui-development/touchgfx-engine-features/texts-and-fonts/text-center-align.png" target="_blank"><img src="/4.17/zh-TW/img/development/ui-development/touchgfx-engine-features/texts-and-fonts/text-center-align.png"></a><p>中心對齊文字</p></div><div class="figure"><a href="/4.17/zh-TW/img/development/ui-development/touchgfx-engine-features/texts-and-fonts/text-right-align.png" target="_blank"><img src="/4.17/zh-TW/img/development/ui-development/touchgfx-engine-features/texts-and-fonts/text-right-align.png"></a><p>右對齊文字</p></div><p>這些設置可以在TouchGFX Designer的<a href="/4.17/zh-TW/docs/development/ui-development/designer-user-guide/texts-view">文字視圖</a>中進行設置。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="setting-the-correct-width-and-height-of-a-textarea"></a>設置TextArea的正確寬度和高度<a class="hash-link" href="#setting-the-correct-width-and-height-of-a-textarea" title="Direct link to heading">#</a></h3><p>TextArea能夠根據目前選擇的文字調整其寬度和高度。 這是通過呼叫 <code>TextArea::resizeToCurrentText()</code> 方法來完成的。</p><div class="highlight highlight-note"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></div>Note</h5></div><div class="highlight-content"><code>resizeToCurrentText()</code> 會被自動呼叫，前提是在產生實體具有新TypedText的TextArea時沒有設置寬度和高度。</div></div><p>在使用中心/右對齊文本時，通常不希望調整寬度和高度，因為文字需要在固定區域內實現中心/右對齊。 在這種情況下，可以手動設置寬度和高度。 這可以通過呼叫 <code>TextArea::setPosition(x, y, width, height)、</code>, <code>TextArea::setWidth(width)</code> 和 <code>TextArea::setHeight(height)來完成。</code>。</p><p>如果寬度或高度過小，無法容納文字，將按照區域剪切文字，如下圖所示。</p><div class="figure"><a href="/4.17/zh-TW/img/development/ui-development/touchgfx-engine-features/texts-and-fonts/text-cutoff.png" target="_blank"><img src="/4.17/zh-TW/img/development/ui-development/touchgfx-engine-features/texts-and-fonts/text-cutoff.png"></a><p>被TextArea小部件邊界框剪切掉的文字</p></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="setting-the-correct-x-and-y-for-a-textarea"></a>為TextArea設置正確的X和Y值<a class="hash-link" href="#setting-the-correct-x-and-y-for-a-textarea" title="Direct link to heading">#</a></h3><p>為了將TextArea放在正確的X和Y位置，需注意使用的字體的字元上方會有一些額外的間隔，可以容納大字元。 由於不知道文字上方的具體間隔，使得根據左上角的Y位置放置TextArea變得有點困難。 放置文字的一種方式是指定您認為它應當處於的位置，然後通過在模擬器中檢查放置效果來進行微調。 這通常是一項十分簡單的任務，但如果之後更改字體或字型大小，則需要重新執行。</p><p>一種更穩健的方式是使用文字基線。 基線是一條線，大多數字母“坐”在基線上，而下行字母（像p和j這樣的字元）會延伸到基線之下。</p><div class="figure"><a href="/4.17/zh-TW/img/development/ui-development/touchgfx-engine-features/texts-and-fonts/text-baseline.png" target="_blank"><img src="/4.17/zh-TW/img/development/ui-development/touchgfx-engine-features/texts-and-fonts/text-baseline.png"></a><p>文本基線</p></div><p>為了設置文字基線，可使用 <code>TextArea::setBaselineY(y)</code> 或 <code>TextArea::setXBaselineY(x, y)。</code>。 對於這些方法，不指定TextArea的左上角，而是指定第一個文字行的基線。 這會考慮字型大小和間距，並相應地設置TextArea的Y位置。</p><p>由於通過TouchGFX Designer畫布可以輕鬆地放置TextArea小部件，因此TouchGFX Designer中沒有基線功能，只能在用戶程式碼中使用。</p><div class="highlight highlight-note"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></div>Note</h5></div><div class="highlight-content">由於setBaselineY依賴於字體，TextArea需在呼叫setBaselineY之前設置其TypedText。 另外還要注意，如果將TextAreas TypedText修改為採用其他字體或字型大小，則需要再次呼叫 <code>setBaselineY</code> 。</div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="automatic-wrapping-of-long-text-lines"></a>長文字的自動換行<a class="hash-link" href="#automatic-wrapping-of-long-text-lines" title="Direct link to heading">#</a></h3><p>TextArea有時需要包含極長的文字。 預設情況下，只需將此類文字寫成一行，並直接將超出TextArea的所有文字剪切掉。 如果文字應在空格處換行並回流以便形成多行，只需呼叫：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">myTextArea</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">setWideTextAction</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">WIDE_TEXT_WORDWRAP</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Default is WIDE_TEXT_NONE</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">複製</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="available-wide-text-actions"></a>可用寬文字操作<a class="hash-link" href="#available-wide-text-actions" title="Direct link to heading">#</a></h4><ul><li><code>WIDE_TEXT_NONE</code>：只需從超出TextArea寬度的任何字元的中間切割文字，無需其他操作。</li><li><code>WIDE_TEXT_WORDWRAP</code>：在字之間換行，在任意位置添加省略號“Very long t...”。</li><li><code>WIDE_TEXT_WORDWRAP_ELLIPSIS_AFTER_SPACE</code>：在字之間換行，只在空格後的任意位置添加省略號“Very long ...”。</li><li><code>WIDE_TEXT_CHARWRAP</code>：在任意兩個字元之間換行，按照中文中的用法在任意位置添加省略號。</li><li><code>WIDE_TEXT_CHARWRAP_DOUBLE_ELLIPSIS</code>：在任意兩個字元之間換行，按照中文中的用法在任意位置添加雙省略號。</li></ul><div class="highlight highlight-further-reading"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></div>Further reading</h5></div><div class="highlight-content"><a href="/4.17/zh-TW/docs/api/namespacetouchgfx#ad7afabd7637aed4278f7e26434b860c7">WideTextAction枚舉的API參考</a></div></div><p>這可能會使TextArea需要更多垂直空間。 可通過增加TouchGFX Designer中TextArea的高度或在用戶程式碼中用以下程式碼來實現。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">myTextArea</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">setWidth</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">myTextArea</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">resizeHeightToCurrentText</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Will set height by wrapping text at 200px long lines</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">myTextArea</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">invalidate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">複製</button></div></div><p>如果您準備縮小文字區的尺寸，記得在調整<code>myTextArea</code>尺寸之前呼叫 <code>myTextArea.invalidate()。</code> before resizing <code>myTextArea</code> if you are decreasing the text area size. 如果沒有，由於原文字區未被更小的新文字區覆蓋，因此您會看到它的一部分。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="switching-language"></a>切換語言<a class="hash-link" href="#switching-language" title="Direct link to heading">#</a></h2><p>TouchGFX支援多語言介面。 可以更改介面當前使用的語言，方法是呼叫靜態函數 <code> Texts::setLanguage</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token class-name" style="color:rgb(255, 203, 107)">Texts</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">setLanguage</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GB</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">；</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">複製</button></div></div><p>值 <i>GB</i> 位於 <code>LANGUAGES</code> 枚舉（位於 <code>TextKeysAndLanguages.hpp）中，</code> 如<a href="#the-text-converter">文本轉換器</a>一節中的範例所示。</p><p>此次呼叫後，使所有顯示文字的小部件無效（或簡單地使整個螢幕無效），它們將以新選擇的語言顯示文字。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="in-touchgfx-designer"></a>TouchGFX Designer中<a class="hash-link" href="#in-touchgfx-designer" title="Direct link to heading">#</a></h3><p>您可以在不同語言之間切換，以便測試所有翻譯檔。 可從<a href="/4.17/zh-TW/docs/development/ui-development/designer-user-guide/config-view#general">配置視圖的常規部分</a>執行此操作。 這裡只需更改應用的啟動語言，方法是更改 <i>選中語言。</i>。 需要先創建並翻譯語言，然後才能在“配置”視圖中選擇它們。</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/4.17/zh-TW/docs/development/ui-development/touchgfx-engine-features/mixins"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Mixins</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/4.17/zh-TW/docs/development/ui-development/touchgfx-engine-features/languages-and-characters"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">語言和字元 »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#texts-and-typographies" class="table-of-contents__link">文字和字體排印</a></li><li><a href="#the-text-converter" class="table-of-contents__link">文字轉換器</a></li><li><a href="#the-font-converter" class="table-of-contents__link">文字轉換器</a></li><li><a href="#character-memory-optimization" class="table-of-contents__link">字元存儲空間優化</a></li><li><a href="#wildcards" class="table-of-contents__link">萬用字元</a><ul><li><a href="#using-wildcards-in-touchgfx-designer" class="table-of-contents__link">在TouchGFX Designer中使用萬用字元</a></li><li><a href="#using-wildcards-in-user-code" class="table-of-contents__link">在用戶程式碼中使用萬用字元</a></li></ul></li><li><a href="#text-placement" class="table-of-contents__link">文字放置</a><ul><li><a href="#alignment" class="table-of-contents__link">對齊</a></li><li><a href="#setting-the-correct-width-and-height-of-a-textarea" class="table-of-contents__link">設置TextArea的正確寬度和高度</a></li><li><a href="#setting-the-correct-x-and-y-for-a-textarea" class="table-of-contents__link">為TextArea設置正確的X和Y值</a></li><li><a href="#automatic-wrapping-of-long-text-lines" class="table-of-contents__link">長文字的自動換行</a></li></ul></li><li><a href="#switching-language" class="table-of-contents__link">切換語言</a><ul><li><a href="#in-touchgfx-designer" class="table-of-contents__link">TouchGFX Designer中</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">All rights reserved © 2021 STMicroelectronics | <a href="https://www.st.com/content/st_com/en/common/terms-of-use.html">Terms of use</a> | <a href="https://www.st.com/content/st_com/en/common/privacy-policy.html">Privacy Policy</a> | <a href="/docs/miscellaneous/cookie-policy">Cookie Policy</a> | <a href="https://app-de.onetrust.com/app/#/webform/2b87200d-4023-4588-9df7-ab0cdea1a67e">Exercise your rights</a></div></div></div></footer></div>
<script src="/4.17/zh-TW/assets/js/runtime~main.19b59493.js"></script>
<script src="/4.17/zh-TW/assets/js/main.0b58ca38.js"></script>
</body>
</html>